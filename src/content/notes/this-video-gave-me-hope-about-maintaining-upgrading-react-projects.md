---
title: "This video gave me hope about maintaining & upgrading React projects"
publishedAt: "2024-12-18"
description: "If you are a developer interested in frontend (or) maintaining & upgrading React projects without losing your sanity, read this!"
slug: "this-video-gave-me-hope-about-maintaining-upgrading-react-projects"
category: "tech"
---

## React Conf 2024 talk "Vanilla React" by Ryan Florence

<iframe width="560" height="315" src="https://www.youtube.com/embed/ZcwA0xt8FlQ" title="Vanilla React by Ryan Florence" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>

## TLDW\* (too long didn't watch)

If you are a developer interested in frontend (or) maintaining & upgrading React projects without losing your sanity, I would recommend watching it.

> **Summary generated by Google's NotebookLM**
>
> Ryan Florence's React Conf talk discusses the evolution of React Router, highlighting its decade-long impact and future integration with Remix, a full-stack framework. He announces that Remix features will be incorporated into React Router V7, enabling incremental upgrades for existing projects rather than complete rewrites. This update will provide access to features like server-side rendering and code-splitting with minimal code changes. The talk emphasizes a smoother transition for developers using React Router, making it easier to adopt modern React features.

## First things first…

First, I would like to express my deepest gratitude to Jord Walke for creating React, the React Core Team, the React Native Core Team, Guillermo Rauch & team for creating nextjs, Nicolas Gallagher for creating react-native-web & Theo for his YouTube videos (& memes on Twitter) & millions of open source developers for your work.

I am expressing my challenges in the best way possible, hopefully without any hint of entitlement.

I have to mention this because I have been a lurker on the internet for a ~decade now & I have seen insane amounts of entitlement on Twitter & especially in GitHub issues on the likes of "This issue still exists. Is it fixed yet?"

## My current challenge

I work in a medium-to-large-ish company in India. For a major project in our line of business, we use nextjs v9.4.4 with react-native-web to leverage the react-native app to power our mobile-web experience.

It was a good start.

But…

Like most projects, the senior engineers left & we have been maintaining & delivering product & SEO features over the last ~half a decade or so.

The major challenge is: we have been stuck in upgrading the stack over the years.

I did try last year & this year to upgrade to nextjs v14 BUT the upgrade path is not clear.

I basically gave up. Until I watched Theo's video on react-router v7 in which he mentioned Ryan's video.

## Next step

I plan to swap nextjs with react-router v7 in framework mode. I will document my experience so that it's at least useful to 1 person out there.

Thank you for reading.

## TLDW\* (too long didn't watch) Continued…

_Q&A generated by Google's NotebookLM_

### What challenges hinder modernizing large React applications?

Modernizing large React applications can be challenging, especially when considering factors like code splitting, data loading, and server-side rendering. Frequently, teams may feel the need to completely rewrite their application to achieve modernization. This is particularly challenging with large codebases, like the 5-million-line React application at Shopify.

Many older React applications were bootstrapped with Create React App, which is no longer maintained, creating additional obstacles to modernizing these applications. Migrating to frameworks like Next.js or Astro is often perceived as a complete rewrite, which is daunting for large projects. Even migrating to Remix, which shares a common foundation with React Router, can feel like a rewrite despite incremental migration possibilities.

### How does React Router V7 facilitate incremental app modernization?

React Router V7 offers several features that help developers incrementally modernize their React applications:

- **Modular Routing with Automatic Code Splitting**: By migrating routes to React Router V7's route module format, applications automatically gain the advantage of code splitting. This significantly reduces the initial JavaScript bundle size, improving performance. For example, migrating the demo app to React Router V7 reduced the initial bundle size from 700kb to 50kb.
- **Data Loading with Client Loaders**: React Router V7 introduces client loaders that fetch data before rendering a page, much like server-side rendering but executed in the browser. This eliminates the need for complex state management with useState and effects. The SST demo app, for instance, was able to eliminate all instances of useState by utilizing client loaders and actions.
- **Seamless Transitions between Client and Server Rendering**: React Router V7 allows for a flexible approach to rendering. Developers can easily switch between client loaders and server loaders by simply changing a flag, enabling incremental adoption of server-side rendering (SSR) or static site generation (SSG). The demo showcased the ease of enabling SSR with a simple configuration change.
- **Support for Server Components and Revalidation**: React Router V7 integrates seamlessly with React's server components, allowing developers to selectively move parts of the UI rendering to the server. The data loading and revalidation mechanisms in React Router continue to function with server components, ensuring a smooth transition.

These features, combined with the incremental migration path, empower developers to modernize their applications piecemeal, adopting new features and benefits without undertaking a complete rewrite. This approach reduces the risks and complexity associated with large-scale refactoring.

### How does React Router V7 handle code splitting?

React Router V7 leverages a modular routing system where each route is defined as a separate module. This architecture enables automatic code splitting. When a user navigates to a specific route, only the necessary code for that route is loaded, reducing the initial JavaScript bundle size and improving application performance.

Here's how it works:

1. **Route Modules**: Each route in the application is defined as a separate file, referred to as a route module.
2. **Vite Plugin**: The Vite plugin in React Router V7 analyzes these route modules and automatically generates the code splitting logic.
3. **Dynamic Imports**: The generated code uses dynamic imports to load the route modules on demand, only when the user navigates to the corresponding route.

This approach offers several benefits:

- **Reduced Initial Bundle Size**: By splitting the code into smaller chunks, the initial JavaScript bundle size is significantly reduced, resulting in faster page loads. The SST Dev demo app, for example, saw a reduction from 700kb to 50kb after migrating to React Router V7.
- **Improved Performance**: Loading only the necessary code improves the application's overall performance, especially on slower connections or devices.
- **Incremental Adoption**: Developers can gradually migrate their existing routes to the new module format, taking advantage of code splitting incrementally without a complete rewrite.

This approach ensures that users only download the code they need, leading to a smoother and faster user experience.
